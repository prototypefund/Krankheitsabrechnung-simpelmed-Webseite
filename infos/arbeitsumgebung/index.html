<!DOCTYPE html>
<html lang="de" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>simpelmed - </title>

  <meta name="description" content="Arbeitsumgebung SimpelMed / PostgreSQL / Python Benötigt werden:
ein Arbeitsrechner mit genügend RAM (mindestens 8 GB, besser 16 GB) und ausreichend schneller Festplatte (vorzugseise SSD) eine PostgreSQL-Datenbank, Server sinnvollerweise in virtueller Maschine (optional, aber empfehlenswert) eine weiterere virtuelle Maschine mit der DB-Management-Oberfläche pgadmin4 diese »drei« Rechner werden über ein lokales Netz verbunden und sind gegenseitig ansprechbar/erreichbar. Die Login-Namen der Standard-Nutzer des Host- und der Gastrechner sind unerheblich und könnten ohne Einschränkungen sogar identisch sein.">
  <meta name="author" content="Berthold Gehrke"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "simpelmed",
    
    "url": "https:\/\/simpelmed.de"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/simpelmed.de"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/simpelmed.de",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/simpelmed.de\/infos\/arbeitsumgebung\/",
          "name": ""
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Berthold Gehrke"
  },
  "headline": "",
  "description" : "Arbeitsumgebung SimpelMed \/ PostgreSQL \/ Python Benötigt werden:\nein Arbeitsrechner mit genügend RAM (mindestens 8 GB, besser 16 GB) und ausreichend schneller Festplatte (vorzugseise SSD) eine PostgreSQL-Datenbank, Server sinnvollerweise in virtueller Maschine (optional, aber empfehlenswert) eine weiterere virtuelle Maschine mit der DB-Management-Oberfläche pgadmin4 diese »drei« Rechner werden über ein lokales Netz verbunden und sind gegenseitig ansprechbar\/erreichbar. Die Login-Namen der Standard-Nutzer des Host- und der Gastrechner sind unerheblich und könnten ohne Einschränkungen sogar identisch sein.",
  "inLanguage" : "de",
  "wordCount":  1492 ,
  "datePublished" : "0001-01-01T00:00:00",
  "dateModified" : "0001-01-01T00:00:00",
  "image" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/simpelmed.de\/infos\/arbeitsumgebung\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/simpelmed.de",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="simpelmed" />
<meta property="og:description" content="Arbeitsumgebung SimpelMed / PostgreSQL / Python Benötigt werden:
ein Arbeitsrechner mit genügend RAM (mindestens 8 GB, besser 16 GB) und ausreichend schneller Festplatte (vorzugseise SSD) eine PostgreSQL-Datenbank, Server sinnvollerweise in virtueller Maschine (optional, aber empfehlenswert) eine weiterere virtuelle Maschine mit der DB-Management-Oberfläche pgadmin4 diese »drei« Rechner werden über ein lokales Netz verbunden und sind gegenseitig ansprechbar/erreichbar. Die Login-Namen der Standard-Nutzer des Host- und der Gastrechner sind unerheblich und könnten ohne Einschränkungen sogar identisch sein.">
<meta property="og:image" content="https://simpelmed.de/img/simpelmed.jpg" />
<meta property="og:url" content="https://simpelmed.de/infos/arbeitsumgebung/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="simpelmed" />

  <meta name="twitter:title" content="simpelmed" />
  <meta name="twitter:description" content="Arbeitsumgebung SimpelMed / PostgreSQL / Python Benötigt werden:
ein Arbeitsrechner mit genügend RAM (mindestens 8 GB, besser 16 GB) und ausreichend schneller Festplatte (vorzugseise SSD) eine …">
  <meta name="twitter:image" content="https://simpelmed.de/img/simpelmed.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href='https://simpelmed.de/img/simpelmed.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.115.4">
  <link rel="alternate" href="https://simpelmed.de/index.xml" type="application/rss+xml" title="simpelmed"><link rel="stylesheet" href="https://simpelmed.de/css/katex.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/fontawesome/css/all.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/bootstrap.min.css" /><link rel="stylesheet" href="https://simpelmed.de/css/main.css" /><link rel="stylesheet" href="https://simpelmed.de/css/fonts.css" /><link rel="stylesheet" href="https://simpelmed.de/css/syntax.css" /><link rel="stylesheet" href="https://simpelmed.de/css/codeblock.css" /><link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.default-skin.min.css" />


<style>

 

div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}


div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}
</style>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://simpelmed.de">simpelmed</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="/">Home</a>
            </li>
          
        
          
            <li>
              <a title="Schnellstart" href="/schnellstart">Schnellstart</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Infos</a>
              <div class="navlinks-children">
                
                  <a href="/infos/arbeitsumgebung">Arbeitsumgebung</a>
                
                  <a href="/infos/postgresql-pgadmin">PostgreSQL-pgAdmin</a>
                
                  <a href="/infos/gnumed-installation">GNUmed-Installation</a>
                
                  <a href="/infos/gnumed-einrichtung">GNUmed-Einrichtung</a>
                
                  <a href="/infos/repo">Repo</a>
                
                  <a href="/infos/team">Team</a>
                
                  <a href="/infos/foerderung">Förderung</a>
                
              </div>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Projekt</a>
              <div class="navlinks-children">
                
                  <a href="/projekt/simpelmed-start">SimpelMed-Start</a>
                
                  <a href="/projekt/downloads">Downloads</a>
                
                  <a href="/projekt/installscript">Installscript</a>
                
                  <a href="/projekt/remote-zugriff">Remote-Zugriff</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="FAQ / Häufige Fragen" href="/faq">FAQ / Häufige Fragen</a>
            </li>
          
        
          
            <li>
              <a title="datenschutz" href="/datenschutz">datenschutz</a>
            </li>
          
        
          
            <li>
              <a title="impressum" href="/impressum">impressum</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="simpelmed" href="https://simpelmed.de">
            <img class="avatar-img" src="https://simpelmed.de/img/simpelmed.jpg" alt="simpelmed" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  <div class="intro-header"></div>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <div class="sect1">
<h2 id="_arbeitsumgebung">Arbeitsumgebung</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_simpelmed_postgresql_python">SimpelMed / PostgreSQL / Python</h2>
<div class="sectionbody">
<div class="paragraph"><p>Benötigt werden:</p></div>
<div class="ulist"><ul>
<li>
<p>
ein Arbeitsrechner mit genügend RAM (mindestens 8 GB, besser 16 GB) und ausreichend schneller Festplatte (vorzugseise SSD)
</p>
</li>
<li>
<p>
eine PostgreSQL-Datenbank, Server sinnvollerweise in virtueller Maschine
</p>
</li>
<li>
<p>
(optional, aber empfehlenswert) eine weiterere virtuelle Maschine mit der DB-Management-Oberfläche pgadmin4
</p>
</li>
<li>
<p>
diese »drei« Rechner werden über ein lokales Netz verbunden und sind gegenseitig ansprechbar/erreichbar.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Die Login-Namen der Standard-Nutzer des Host- und der Gastrechner sind unerheblich und könnten ohne Einschränkungen sogar identisch sein. Namen sind wie fast immer nur <em>Schall und Rauch</em>.</p></div>
<div class="sect2">
<h3 id="_virtualbox_oder_kvm_virt_manager">VirtualBox oder KVM (virt-manager)</h3>
<div class="paragraph"><p>Pro Virtualbox:<br/>
Netzwerk-Bridging einfach einzustellen ohne eigene Konfiguration</p></div>
<div class="paragraph"><p>Contra:<br/>
erheblicher Overhead mit spürbarer Herabsetzung der Ausführungsgeschwindigkeit<br/>
sehr langsam sowie sehr hohe Zahl an Zugriffen bei Installation des Image auf eine herkömmliche SATA-Platte → dringend auf eine SSD ausweichen!</p></div>
<div class="paragraph"><p>Pro KVM:<br/>
Schneller, performanter, kein Overhead</p></div>
<div class="paragraph"><p>Contra:<br/>
Umkonfigurierung der Netzwerkeinstellungen notwendig (Bridging)<br/>
dies kan aber durch ein »einfaches (Python-)Script« durchgeführt werden</p></div>
<div class="paragraph"><p>Beide Lösungen ermöglichen auch den Datenaustausch zwischen den (virtuellen) Rechnern;<br/>
beide Lösungen simulieren den Einsatz der Software in einem Client-Server-Umfeld.</p></div>
<div class="paragraph"><p>Im Folgenden werden beide Lösungen beschrieben; beide Lösungen wurden getestet.</p></div>
</div>
<div class="sect2">
<h3 id="_virtualbox">Virtualbox</h3>
<div class="paragraph"><p>Wichtig: Beim Starten/Installieren wird als »Netzwerk« gewählt:<br/>
Adapter … Netzwerkbrücke, nicht die Versäumniseinstellung »NAT«.</p></div>
<div class="paragraph"><p>Als Distribution für die PostgreSQL-Datenbank kommen in die Auswahl:<br/>
1a) Ubuntu-Server oder<br/>
1b) Mint (Xfce).<br/>
Obwohl 1b) eine grafische Oberfläche bedienen muss, gibt es hier keinen nenennswerten, messbaren Performance-Abfall. Im Folgenden wird nur noch Mint (Xfce) betrachtet.
Als Distri für pgAdmin4 wird<br/>
1c) <a href="https://q4os.org/">https://q4os.org/</a> q4OS gewählt.</p></div>
<br/>
<img align="left" width="55" height="55" src="/tip.png"/> Grundsätzlich steht die Wahl der Linux-Distribution im Ermessen des Anwenders - auch Windows10/11 ist möglich (aber nicht empfehlenswert). Alle Installationsvorgaben gehen vom Einsatz einer von Debian abgeleiteten Distri aus - Damit sind wir mit Ubuntu/Mint/q4os auf dem richtigen Weg. Die Clients z.B. im Praxisbetrieb können auch unter Windows laufen ...
<br/>
<div class="paragraph"><p>Es werden unter Virtualbox zwei Maschinen eingerichtet, der einfacheren Bedienung wegen jeweils mit Gasterweiterungen und gemeinsamen Ordner: je einmal Mint (Download der Xfce-Edition <a href="https://linuxmint.com/edition.php?id=304">https://linuxmint.com/edition.php?id=304</a>) für den PostgreSQL-Server und einmal q4os (Download der empfehlenswerten Trinity-Version <a href="https://sourceforge.net/projects/q4os/files/stable/q4os-4.12-x64-instcd.r1.iso/download">https://sourceforge.net/projects/q4os/files/stable/q4os-4.12-x64-instcd.r1.iso/download</a>) für pgAdmin4.</p></div>
<div class="paragraph"><p>Das eigentliche Einrichten/Installieren von VirtualBox und seinen virtuellen Maschinen wird hier nicht beschrieben. Es lässt sich falls gewünscht durch ein Script automatisieren: <a href="https://blogs.oracle.com/virtualization/post/guide-for-virtualbox-vm-unattended-installation">https://blogs.oracle.com/virtualization/post/guide-for-virtualbox-vm-unattended-installation</a> oder <a href="https://www.youtube.com/watch?v=ypkItN4d4Y0">https://www.youtube.com/watch?v=ypkItN4d4Y0</a></p></div>
</div>
<div class="sect2">
<h3 id="_kvm_qemu">KVM/Qemu</h3>
<div class="paragraph"><p>Statt eines »Virtualbox-Netzwerkes« kann das benötigte Schema mit den drei virtuellen Rechnern auch über KVM/Qemu aufgebaut werden. Diese Lösung scheint nach unserer Erfahrung etwas bessere bzw. stabilere Ergebnisse zu zeigen. Alle weiteren Arbeitsschritte finden deswegen auf dieser Plattform statt.</p></div>
<div class="paragraph"><p>Als Voreinstellung nutzt KVM/Qemu zur Netzanbindung NAT; das ist allerdings hier nicht geeignet, da sich damit die virtuellen Maschinen nicht »sehen« können. Durch das folgende (Python-)Skript kann aber problemlos eine virtuelle Brücke »Bridge« eingerichtet werde. Diese stört den sonstigen Internetverkehr in keinster Weise.</p></div>
<div class="sect3">
<h4 id="_bridge_für_kvm">Bridge für KVM</h4>
<div class="paragraph"><p>Im ersten Schritt führen Sie das folgende Kommando aus, um die Daten für Ihren (Host-)Rechner zu erhalten:<br/>
(Ausgabe leicht gekürzt …)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>bge ~ &gt; ip -a address
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc ... UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host noprefixroute
       valid_lft forever preferred_lft forever
2: eno1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc ...  default qlen 1000
    link/ether 24:be:05:17:7c:e2 brd ff:ff:ff:ff:ff:ff
    altname enp0s25
    inet 192.168.178.20/24 brd 192.168.178.255 scope ... noprefixroute eno1
       valid_lft 858650sec preferred_lft 858650sec
&lt;...&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Daraus ist zu entnehmen: der Ethernet-Adapter hat die Bezeichnung <em>eno1</em>, diesem ist die IP-Adresse <em>192.168.178.20/24</em> zugeteilt.<br/>
Mit diesen Angaben kann das folgende Skript seine Aufgabe erfüllen:<br/>
Die im Programm gekennzeichneten IP-Adressen des Host-Rechners und des Gateways müssen Sie natürlich an Ihre Daten anpassen!</p></div>
<div class="paragraph"><p>Die gewünschten Information lassen sich auch durch folgendes kleines Python-Programm auslesen. Sie können die Werte dann Variablen zuweisen und müssen bridge.py nicht manuell konfigurieren. So wie hier geht es etwas schneller, darüber hinaus ist dieser Schritt nur einmal notwendig und eine Optimierung des Vorgehens scheint überflüssig.</p></div>
<div class="listingblock">
<div class="title">Python3 Netzwerkkarte/Gateway</div>
<div class="content">
<pre><code>#!/usr/bin/env python3
&#34;&#34;&#34; Ermittel den »Namen« der Netzwerkkarte und die TCP/IP-Adresse
    des Gateways.

    Root-Rechte sind nicht erforderlich.
    Beispielhafte Ausgabe:
    [(1, &#39;lo&#39;), (2, &#39;eno1&#39;)]
    127.0.1.1
    192.168.178.20
    Falls die Bridge schon eingerichtet wurde, sieht die Ausgabe wie folgt aus:
    [(1, &#39;lo&#39;), (2, &#39;eno1&#39;), (3, &#39;brbr0&#39;), (4, &#39;taptap0&#39;), (5, &#39;vnet0&#39;)]
    127.0.1.1
    192.168.178.20&#34;&#34;&#34;

import socket

print(socket.if_nameindex())
print(socket.gethostbyname(socket.gethostname()))
s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
s.connect((&#34;8.8.8.8&#34;, 80))
print(s.getsockname()[0])
s.close()</code></pre>
</div></div>
<div class="paragraph"><p>Mit den jetzt vorliegenden Infos kann die virtuelle Bridge eingerichtet werden.</p></div>
<div class="listingblock">
<div class="title">Python3 Einrichten einer virtuellen Bridge (bridge.py)</div>
<div class="content">
<pre><code>#!/usr/bin/env python3
&#34;&#34;&#34;Richtet eiine virtuelle Bridge auf der vorhandenen Netzwerkkarte ein,
   damit Gäste untereinander und den Host-Rechner über TCP/IP »sehen« können.

Angelehnt an: »QEMU - Bridged Networking«
https://www.youtube.com/watch?v=VCAqkyVd7dM

Muss als root/sudo gestartet werden!
&#39;subprocess&#39; wäre streng genommen gegenüber &#39;os.system&#39; zu bevorzugen ...&#34;&#34;&#34;

import os
import time

print(&#34;Start ...&#34;)
try:
    os.system(&#34;modprobe tun tap&#34;)
    print(&#34;modprobe tun tap ... ok&#34;)
    time.sleep(1)
    # &#39;brbr0&#39; ist ein beliebiger Platzhalter
    os.system(&#34;ip link add brbr0 type bridge&#34;)
    print(&#34;ip link add brbr0 type bridge ... ok&#34;)
    time.sleep(1)
    # &#39;taptap0&#39; ist ein beliebiger Platzhalter
    os.system(&#34;ip tuntap add dev taptap0 mode tap&#34;)
    print(&#34;tuntap add dev taptap0 mode tap ... ok&#34;)
    time.sleep(1)
    # &#39;eno1&#39; ist die Bezeichnung der Netzwerkkarte
    os.system(&#34;ip link set dev eno1 master brbr0&#34;)
    print(&#34;ip link set dev eno1 master brbr0 ... ok&#34;)
    time.sleep(1)
    os.system(&#34;ip link set dev taptap0 master brbr0&#34;)
    print(&#34;ip link set dev taptap0 master brbr0 ... ok&#34;)
    time.sleep(1)
    os.system(&#34;ip link set dev brbr0 up&#34;)
    print(&#34;ip link set dev brbr0 up ... ok&#34;)
    time.sleep(1)
    # IP-Adresse entsprechend einsetzen
    os.system(&#34;ip address delete 192.168.178.20/24 dev eno1&#34;)
    print(&#34;ip address delete 192.168.178.20/24 dev eno1 ... ok&#34;)
    time.sleep(1)
    os.system(&#34;ip address add 192.168.178.20/24 dev brbr0&#34;)
    print(&#34;ip address add 192.168.178.20/24 dev brbr0 ... ok&#34;)
    time.sleep(1)
    # Diese IP-Adresse benennt den Gateway
    os.system(&#34;ip route add default via 192.168.178.1 dev brbr0&#34;)
    print(&#34;ip route add default via 192.168.178.1 dev brbr0 ... ok&#34;)
    time.sleep(1)
    os.system(&#34;resolvectl dns brbr0 192.168.178.1&#34;)
    print(&#34;resolvectl dns brbr0 192.168.178.1 ... ok&#34;)
    time.sleep(1)
    os.system(&#34;systemctl restart systemd-resolved.service&#34;)
    print(&#34;systemctl restart systemd-resolved.service ... ok&#34;)
    time.sleep(1)
    print(&#34;... fertig!&#34;)
except OSError:
    print(&#34;ERROR!&#34;)</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_installation_der_virtuellen_maschinen">Installation der Virtuellen Maschinen</h4>
<div class="paragraph"><p>Ganz analog zum Vorgehen bei VirtualBox werden nun zwei Maschinen installiert.<br/>
Wie bereits erwähnt, kommen hier sinnvollerweise alle Debian-Derivate in Frage. Gewählt wurde in unserer Umgebung <em>LMDE</em> (Linux Mint Debian Edition) - möglich wäre auch Mint Xfce, das ist Geschmacksache. Als zweites System kommt wie oben <em>q4os</em> zum Zuge (q4os.org).</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_netzwerk_einrichten_und_prüfen">Netzwerk einrichten und prüfen</h3>
<div class="paragraph"><p>Egal ob die Virtualbox- oder wie hier im Folgenden die KVM/Qemu-Lösung (über den virtuellen Netzwerkmanager <em>apt-get install virt-manager</em>) gewählt wird:<br/>
Für die weitere Administration des »Netzwerkes« aus Host und den beiden Guests benötigen wir noch jeweils die internen IP-Adressen. Diese werden mit folgendem Schritt mit dem Kommando <em>ip a</em> ermittelt.
(Ausgabe leicht gekürzt …)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;home&gt;:~$ ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue ...default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc ... default qlen 1000
    link/ether 08:00:27:db:24:da brd ff:ff:ff:ff:ff:ff
    inet 192.168.178.63/24 brd 192.168.178.255 scope global dynamic noprefixroute enp0s3
       valid_lft 863740sec preferred_lft 863740sec
    inet6 fd00::f17e:19b1:ac43:e604/64 scope global temporary dynamic
       valid_lft 6943sec preferred_lft 3343sec
    inet6 fd00::f4c:fcb9:430b:bf80/64 scope global dynamic mngtmpaddr noprefixroute
       valid_lft 6943sec preferred_lft 3343sec
    inet6 2001:a61:ad3:4c01:2146:46a7:6de2:4847/64 scope global temporary dynamic
       valid_lft 5852sec preferred_lft 2252sec
    inet6 2001:a61:ad3:4c01:d799:6115:804c:b43f/64 scope ... noprefixroute
       valid_lft 5852sec preferred_lft 2252sec
    inet6 fe80::d228:2500:56e8:ada7/64 scope link noprefixroute
       valid_lft forever preferred_lft forever</code></pre>
</div></div>
<div class="paragraph"><p>Die Loopback-Adresse lautet erwartungsgemäß 127.0.0.1/8; diese wird nicht weiter benötigt. Unsere virtuelle Bridge liefert <em>192.168.178.63/24</em>.<br/>
Analog gehen wir mit allen virtuellen Maschinen und unserem Gastrechner vor. Als Ergebnis haben wird schließlich drei IP-Adressen, die unser virtuelles Netzwerk bilden, z.B.:<br/>
<em>192.168.178.63/24</em> für virtuelle Maschine Eins,<br/>
<em>192.168.178.82/24</em> für virtuelle Maschine Zwei und schließlich<br/>
<em>192.168.178.20/24</em> für den Wirtrechner.</p></div>
<div class="paragraph"><p>Jede der Maschinen kann jeweils die beiden anderen über TCP/IP erreichen, das kann z.B. mit einem <em>Ping</em> bestätigt werden.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>bge ~ &gt; ping 192.168.178.63
PING 192.168.178.63 (192.168.178.63) 56(84) bytes of data.
64 bytes from 192.168.178.63: icmp_seq=1 ttl=64 time=0.263 ms
64 bytes from 192.168.178.63: icmp_seq=2 ttl=64 time=0.299 ms
64 bytes from 192.168.178.63: icmp_seq=3 ttl=64 time=0.307 ms
64 bytes from 192.168.178.63: icmp_seq=4 ttl=64 time=0.337 ms
^C
--- 192.168.178.36 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3075ms
rtt min/avg/max/mdev = 0.263/0.301/0.337/0.026 ms
bge ~ &gt;</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_dhcp_konfigurieren">DHCP konfigurieren</h3>
<div class="paragraph"><p>Der Arbeitsplatz bekommt vom DHCP-Server (z.B. einer Fritz-Box, einem Speedport oder ähnliches) die Adresse zugeteilt, hier <em>192.168.178.20/24</em>. Wegen unserer Bridge erhalten auch die Virtuellen Maschinen eigene IP-Adressen. Es ist für die spätere Arbeit sehr hilfreich, wenn diese Adressen auch nach einem Neustart identisch sind. Andernfalls müsste z.B. pgAdmin4 und der GNUmed-Client jedes Mal neu auf die richtige Adresse eingerichtet werden.</p></div>
<div class="paragraph"><p>In der Fritz-Box wird dies erreicht mittels</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Startseite -&gt; Heimnetz -&gt; Netzwerk öffnen</code></pre>
</div></div>
<div class="paragraph"><p>Im Reiter <em>Netzwerkverbindungen</em> erscheinen unsere drei Netzrechner mit den eben ermittelten IP-Adressen.<br/>
Jetzt das Zeichen <em>Bearbeiten</em> (in der Fritz-Box ein Bleistift) anklicken, im nächsten Schritt die Zeile <em>Adressen im Heimnetz (IP-Adressen)</em> anklicken und einen Haken bei »Diesem Netzwerkgerät immer die gleiche IPv4-Adresse zuweisen.« Dann noch »Übernehmen«. Diese Schritte wie gesagt für alle beteiligten drei (virtuellen) Rechner durchführen. Diese festen Adressen beeinflussen das übrige Heimnetz nicht - auch wenn diese nicht online sind, verfügt die FritzBox über mehr als genug freie Adressen.</p></div>
<br/>
<img align="left" width="55" height="55" src="/note.png"/> Fazit bis hier:
Das Netz sollte jetzt stehen und einsatzbereit sein. Im nächsten Schritt folgen die Einrichtung des PostgreSQL-Servers und von pgAdmin4. Im übernächsten geht es dann (endlich) um die Installation der GNUmed-Pakete.
<div class="paragraph"><p><br/></p></div>
<div class="paragraph"><p></p><hr/><p></p></div>
<div class="paragraph"><p>-&gt; Weiter zu <a href="../postgresql-pgadmin">postgresql-pgadmin</a>.</p></div>
</div>
</div>
</div>


        

        

        
      </article>



      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:kontakt@simpelmed.de" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://gitlab.com/bgehrke/simpelmed/" title="GitLab">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&copy;&nbsp;2023, 2024
          
          by Berthold Gehrke & Alexandra Rupp GbR &nbsp;&bull;&nbsp;letzte Änderung am 13. Februar 2024
          
          

        </p>
        
        <p class="credits theme-by text-muted">
          Seiten erstellt mit: <a href="https://gohugo.io">Hugo v0.115.4</a> &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> angepasst von <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> und <a href="https://datenbahn.de/">datenbahn</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://simpelmed.de/js/katex.min.js"></script>
<script defer src="https://simpelmed.de/js/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script src="https://simpelmed.de/js/jquery-3.7.0.slim.min.js"></script>
<script src="https://simpelmed.de/js/bootstrap.min.js"></script>

<script src="https://simpelmed.de/js/main.js"></script><script src="https://simpelmed.de/js/photoswipe.min.js"></script>
<script src="https://simpelmed.de/js/photoswipe-ui-default.min.js"></script><script src="https://simpelmed.de/js/load-photoswipe.js"></script>









    
  </body>
</html>

