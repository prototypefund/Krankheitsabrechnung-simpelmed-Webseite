<!DOCTYPE html>
<html lang="de" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>simpelmed - </title>

  <meta name="description" content="GNUmed Einrichtung Fahrplan und Schritte Nun, da eine »leere« GNUmed-Installation vorliegt, muss diese noch an ein realistisches Szenario angepasst werden. Ganz zu Anfang muss der »GNUmed-Client« installiert werden: bisher läuft ja nur der GNUmed-Server, der allerdings einzig für den Administrator überhaupt »sichtbar« ist. Eine Anwenderin für die Alltags-Benutzung existiert (noch) nicht, es gibt keine Zugangsdaten und keine graphische Oberfläche.
1) Client-Pakete 2) Start GNUmed 3) Inspektion 4) Bereinigung
Client-Pakete Der erste Schritt besteht im Installieren der Client-Pakete.">
  <meta name="author" content="Berthold Gehrke"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "simpelmed",
    
    "url": "https:\/\/simpelmed.de"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/simpelmed.de"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/simpelmed.de",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/simpelmed.de\/infos\/gnumed-einrichtung\/",
          "name": ""
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Berthold Gehrke"
  },
  "headline": "",
  "description" : "GNUmed Einrichtung Fahrplan und Schritte Nun, da eine »leere« GNUmed-Installation vorliegt, muss diese noch an ein realistisches Szenario angepasst werden. Ganz zu Anfang muss der »GNUmed-Client« installiert werden: bisher läuft ja nur der GNUmed-Server, der allerdings einzig für den Administrator überhaupt »sichtbar« ist. Eine Anwenderin für die Alltags-Benutzung existiert (noch) nicht, es gibt keine Zugangsdaten und keine graphische Oberfläche.\n1) Client-Pakete 2) Start GNUmed 3) Inspektion 4) Bereinigung\nClient-Pakete Der erste Schritt besteht im Installieren der Client-Pakete.",
  "inLanguage" : "de",
  "wordCount":  2916 ,
  "datePublished" : "0001-01-01T00:00:00",
  "dateModified" : "0001-01-01T00:00:00",
  "image" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/simpelmed.de\/infos\/gnumed-einrichtung\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/simpelmed.de",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/simpelmed.de\/img\/simpelmed.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="simpelmed" />
<meta property="og:description" content="GNUmed Einrichtung Fahrplan und Schritte Nun, da eine »leere« GNUmed-Installation vorliegt, muss diese noch an ein realistisches Szenario angepasst werden. Ganz zu Anfang muss der »GNUmed-Client« installiert werden: bisher läuft ja nur der GNUmed-Server, der allerdings einzig für den Administrator überhaupt »sichtbar« ist. Eine Anwenderin für die Alltags-Benutzung existiert (noch) nicht, es gibt keine Zugangsdaten und keine graphische Oberfläche.
1) Client-Pakete 2) Start GNUmed 3) Inspektion 4) Bereinigung
Client-Pakete Der erste Schritt besteht im Installieren der Client-Pakete.">
<meta property="og:image" content="https://simpelmed.de/img/simpelmed.jpg" />
<meta property="og:url" content="https://simpelmed.de/infos/gnumed-einrichtung/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="simpelmed" />

  <meta name="twitter:title" content="simpelmed" />
  <meta name="twitter:description" content="GNUmed Einrichtung Fahrplan und Schritte Nun, da eine »leere« GNUmed-Installation vorliegt, muss diese noch an ein realistisches Szenario angepasst werden. Ganz zu Anfang muss der »GNUmed-Client« …">
  <meta name="twitter:image" content="https://simpelmed.de/img/simpelmed.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href='https://simpelmed.de/img/simpelmed.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.115.4">
  <link rel="alternate" href="https://simpelmed.de/index.xml" type="application/rss+xml" title="simpelmed"><link rel="stylesheet" href="https://simpelmed.de/css/katex.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/fontawesome/css/all.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/bootstrap.min.css" /><link rel="stylesheet" href="https://simpelmed.de/css/main.css" /><link rel="stylesheet" href="https://simpelmed.de/css/fonts.css" /><link rel="stylesheet" href="https://simpelmed.de/css/syntax.css" /><link rel="stylesheet" href="https://simpelmed.de/css/codeblock.css" /><link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.min.css" />
  <link rel="stylesheet" href="https://simpelmed.de/css/photoswipe.default-skin.min.css" />


<style>

 

div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}


div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}
</style>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://simpelmed.de">simpelmed</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="/">Home</a>
            </li>
          
        
          
            <li>
              <a title="Schnellstart" href="/schnellstart">Schnellstart</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Infos</a>
              <div class="navlinks-children">
                
                  <a href="/infos/arbeitsumgebung">Arbeitsumgebung</a>
                
                  <a href="/infos/postgresql-pgadmin">PostgreSQL-pgAdmin</a>
                
                  <a href="/infos/gnumed-installation">GNUmed-Installation</a>
                
                  <a href="/infos/gnumed-einrichtung">GNUmed-Einrichtung</a>
                
                  <a href="/infos/repo">Repo</a>
                
                  <a href="/infos/team">Team</a>
                
                  <a href="/infos/foerderung">Förderung</a>
                
              </div>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Projekt</a>
              <div class="navlinks-children">
                
                  <a href="/projekt/simpelmed-start">SimpelMed-Start</a>
                
                  <a href="/projekt/downloads">Downloads</a>
                
                  <a href="/projekt/installscript">Installscript</a>
                
                  <a href="/projekt/remote-zugriff">Remote-Zugriff</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="FAQ / Häufige Fragen" href="/faq">FAQ / Häufige Fragen</a>
            </li>
          
        
          
            <li>
              <a title="datenschutz" href="/datenschutz">datenschutz</a>
            </li>
          
        
          
            <li>
              <a title="impressum" href="/impressum">impressum</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="simpelmed" href="https://simpelmed.de">
            <img class="avatar-img" src="https://simpelmed.de/img/simpelmed.jpg" alt="simpelmed" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  <div class="intro-header"></div>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <div class="sect1">
<h2 id="_gnumed_einrichtung">GNUmed Einrichtung</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_fahrplan_und_schritte">Fahrplan und Schritte</h2>
<div class="sectionbody">
<div class="paragraph"><p>Nun, da eine »leere« GNUmed-Installation vorliegt, muss diese noch an ein realistisches Szenario angepasst werden.<br/>
Ganz zu Anfang muss der »GNUmed-Client« installiert werden: bisher läuft ja nur der GNUmed-Server, der allerdings einzig für den Administrator überhaupt »sichtbar« ist. Eine Anwenderin für die Alltags-Benutzung existiert (noch) nicht, es gibt keine Zugangsdaten und keine graphische Oberfläche.</p></div>
<div class="paragraph"><p>1) Client-Pakete<br/>
2) Start GNUmed<br/>
3) Inspektion<br/>
4) Bereinigung</p></div>
<div class="sect2">
<h3 id="_client_pakete">Client-Pakete</h3>
<div class="paragraph"><p>Der erste Schritt besteht im Installieren der Client-Pakete. Dies geschieht im ersten Schritt auf dem selben (virtuellen) Rechner, auf dem auch der PostgreSQL-Server mit der Datenbank läuft. Dies ist für das Procedere der Anwendungsentwicklung zum Start das einfachste Vorgehen. Später kann (genau genommen: muss) jeweils ein Client auf jedem Praxisrechner installiert werden, der mit SimpelMed arbeiten soll. Auch in der Entwicklungsumgebung wird später auf verschiedenen Rechnern der Client installiert, um dieses Szenario real zu testen.</p></div>
<div class="listingblock">
<div class="title">Installation der Client-Pakete</div>
<div class="content">
<pre><code>apt install gnumed-client</code></pre>
</div></div>
<div class="paragraph"><p>Die Client-Pakete ziehen (leider) eine relativ umfangreiche Menge an verbindlicher anderer Software mit, z. B. Teile von LaTeX und LibreOffice. Dadurch ist die Datenmenge groß (auf einem Minimalsystem auch schon mal 1GB) und das Einspielen dauert seine Zeit.</p></div>
</div>
<div class="sect2">
<h3 id="_start_gnumed">Start GNUmed</h3>
<div class="paragraph"><p>Wenn alles geladen ist, läßt sich (endlich, hoffentlich) GNUmed starten.</p></div>
<div class="listingblock">
<div class="title">Start des GNUmed-Clients in einer Konsole</div>
<div class="content">
<pre><code>xyz@xyz_pc:~$ gnumed
Log File: &lt;...&gt;/gnumed/logs/gnumed/gnumed/gnumed-&lt;datum_zeit&gt;.log
Temp dir: /tmp/gnumed-&lt;laufwerk&gt;/&lt;zufaelliger_name&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Im sich öffnenden Fenster »Willkomen bei GNUmed - Arbeitsplatz GNUmed default (Version 1.x.y)« müssen folgende Eingaben getätigt werden:<br/>
- Anmeldung bei: GNUmed database on this machine/local (gnumed_v22@)<br/>
- Nutzer: »any-doc«<br/>
- Passwort: »any-doc«<br/>
und dann »ok«</p></div>
<div class="paragraph"><p>Nur mit diessen Einstellungen ist jetzt ein Starten GNUmeds möglich; und das auch nur dann, wenn die PostgreSQL-eigene Firewall mittels der Datei »pg_hba.conf«, in der Regel im Verzeichnis »/etc/postgresql/15/main/«, korrekt modifiziert wurde (siehe unter »postgresql - pgadmin«).</p></div>
<div class="paragraph"><p>Als nächstes erscheint (möglicherweise - hängt von den Datenbankeinstellungen ab) ein Fenster mit folgenden Angaben:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GmD: Verifiziere Datenbankeinstellungen

Die Datenbankeinstellungen sind riskant gewählt:
Option [log_connections]: off
...
Die Logdatei enthält genauere Angaben!

OK</code></pre>
</div></div>
<div class="paragraph"><p>Dies wird mit »ok« bestätigt und vorerst ignoriert. Es geht hier die Einhaltung bestimmter (Sicherheits-)Standards für medizinische Systeme, die insbesondere für den US-Raum verplichtend sind. Das erwähnte »HIPAA« steht für den »Health Insurance Portability and Accountability Act«. Dieser ist (ganz entfernt jedenfalls) mit den europäischen Datenschutzregeln verwandt, beide sind allerdings weder austauschbar noch gleichwertig.<br/>
Die Logdatei findet sich im oben angegebenen Ordner.</p></div>
<div class="paragraph"><p>Nach dem »ok« erscheint der nächste Hinweis:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GmD: Verifiziere Datenbank

Datenbank gnumed_v22 auf localhost

Zweigstelle Generic Praxis Branch ...
...

Verbinden          Abmelden</code></pre>
</div></div>
<div class="paragraph"><p>Wie bestätigen natürlich »Verbinden«. Nun folgt (zumeist)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>GmD: Updates suchen

Eine neue Version von GNUmed ist verfügbar
...

OK</code></pre>
</div></div>
<div class="paragraph"><p>Auch hier geht es weiter mit »OK«. Ab jetzt sind wir im GNUmed-Hauptprogramm und können darin »herumklicken« und uns einen Überblick verschaffen.<br/>
Die letzten drei Meldungen werden am Ende dieser Seite nochmals betrachtet.</p></div>
</div>
<div class="sect2">
<h3 id="_inspektion">Inspektion</h3>
<div class="paragraph"><p>Bemerkenswert ist<br/>
- das frisch installierte GNUmed ist keineswegs »leer«. Es sind einige Patienten (augenscheinlich aus dem Universum der US-Serie Star Trek »Raumschiff Enterprise«), Befunde und weitere Daten vorhanden.<br/>
- Ein Blick in den Server als Administrator zeigt auch, dass eine Datenbank »gnumed_v21«, also die vorherige Version, sowie einge Rollen/Nutzerkonti außer dem bekannten »any-doc« angelegt sind.</p></div>
<div class="listingblock">
<div class="title">Datenbanken und Rollen einer »frischen« GNUmed-Installation (gekürzt)</div>
<div class="content">
<pre><code>h@hpc:~$ sudo -u postgres psql
[sudo] Passwort für h:
...
psql (15.3 (Debian 15.3-0+deb12u1))
Type &#34;help&#34; for help.

postgres=# \l
                                                  List of databases
    Name    |  Owner   | Encoding |   Collate   |    Ctype    | ICU Locale | Locale Provider |   Access privileges
------------+----------+----------+-------------+-------------+------------+-----------------+
 gnumed_v21 | gm-dbo   | UTF8     | de_DE.UTF-8 | de_DE.UTF-8 |            | libc            |
 gnumed_v22 | gm-dbo   | UTF8     | de_DE.UTF-8 | de_DE.UTF-8 |            | libc            |
 postgres   | postgres | UTF8     | de_DE.UTF-8 | de_DE.UTF-8 |            | libc            |
 template0  | postgres | UTF8     | de_DE.UTF-8 | de_DE.UTF-8 |            | libc            | =c/postgres          +
            |          |          |             |             |            |                 | postgres=CTc/postgres
 template1  | postgres | UTF8     | de_DE.UTF-8 | de_DE.UTF-8 |            | libc            | =c/postgres          +
            |          |          |             |             |            |                 | postgres=CTc/postgres
(6 rows)

postgres=# \du
                                                List of roles
   Role name    |     Attributes                                             | Member of
 any-doc        |                                                            | {gnumed_v6,gnumed_v7,...}
 any-staff      |                                                            | {gnumed_v20,gnumed_v17,...}
 gm-dbo         | Create role, Create DB                                     | {gnumed_v6,gnumed_v7,...}
 gm-doctors     | Cannot login                                               | {gm-staff,gm-public}
 gm-logins      | Cannot login                                               | {}
 gm-public      | Cannot login                                               | {}
 gm-staff       | Cannot login                                               | {gm-public}
 gnumed_v10     | Cannot login                                               | {}
 gnumed_v11     | Cannot login                                               | {}
 gnumed_v12     | Cannot login                                               | {}
 gnumed_v13     | Cannot login                                               | {}
 gnumed_v14     | Cannot login                                               | {}
 gnumed_v15     | Cannot login                                               | {}
 gnumed_v16     | Cannot login                                               | {}
 gnumed_v17     | Cannot login                                               | {}
 gnumed_v18     | Cannot login                                               | {}
 gnumed_v19     | Cannot login                                               | {}
 gnumed_v2      | Cannot login                                               | {}
 gnumed_v20     | Cannot login                                               | {}
 gnumed_v21     | Cannot login                                               | {}
 gnumed_v22     | Cannot login                                               | {}
 gnumed_v3      | Cannot login                                               | {}
 gnumed_v4      | Cannot login                                               | {}
 gnumed_v5      | Cannot login                                               | {}
 gnumed_v6      | Cannot login                                               | {}
 gnumed_v7      | Cannot login                                               | {}
 gnumed_v8      | Cannot login                                               | {}
 gnumed_v9      | Cannot login                                               | {}
 postgres       | Superuser, Create role, Create DB, Replication, Bypass RLS | {}
 test-doc       | Password valid until 2004-12-31 00:00:00+01                | {gm-doctors,gm-public}
 test-nurse     | Password valid until 2004-12-31 00:00:00+01                | {gm-public}
 test-secretary | Password valid until 2004-12-31 00:00:00+01                | {gm-public}

\q</code></pre>
</div></div>
<div class="sect3">
<h4 id="_bereinigung">Bereinigung</h4>
<div class="paragraph"><p>Nun stehen die Aufgaben an, die »frische« Datenbank für die Entwicklungsarbeiten vorzubereiten. Die Analyse der Programmaufrufe im Sourcecode bringt dabei einige wertvolle Erkenntnisse zu Tage, die unmittelbar zur Optimierung dienen können.<br/>
Im Folgenden daher die Schritte auf Sourcecode-Ebene im Einzelnen.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_em_gnumed_em"><em>gnumed</em></h2>
<div class="sectionbody">
<div class="paragraph"><p>Durch den Start des Programms durch den Anwender mittels des Konsolen-Kommandos <em>h@pc: gnumed</em> startet das Skript<br/>
<em>/usr/bin/gnumed</em><br/>
Dieses Skript startet, führt aus und schließt zum hoffentlich guten Ende eine SimpelMed/GNUmed-Sitzung.</p></div>
<div class="paragraph"><p><em>gnumed-client.conf</em><br/>
Für das Skript zwingend vorhanden sein muss die Datei <em>SYSCONF=&#34;/etc/gnumed/gnumed-client.conf&#34;</em>, da sonst die Ausführung sofort abgebrochen wird.
Diese Datei steuert das zum Start sichtbare Auswahlmenü, sonstige Präferenzen, die zu ladendenden Plugins und den »Workplace« (die Module, welche die Nutzerin »zu sehen« bekommt).
Dazu später mehr.</p></div>
<div class="paragraph"><p>Als erstes kann <em>/usr/bin/gnumed</em> Nutzer- oder Datenbank-spezifische Skripte (systemweit und/oder lokal angelegt) ausführen - in einer Standardinstallation gibt es solche nicht.<br/>
Vor dem »eigentlichen« Programm erfolgt noch eine <em>Paranoia</em>-Einstellung (Paranoia, da heutzutage normalerweise nicht (mehr) notwendig):<br/>
export PYTHONIOENCODING=utf-8:surrogateescape</p></div>
<div class="paragraph"><p>Nun startet endlich das »eigentliche« Programm <em>gnumed.py</em>:<br/>
Schließlich zum Shutdown sind wiederum user-spezifische Skripte systemweit und/oder lokal möglich (Standard: Fehlanzeige). Alle genannten Skripte werden an bestimmten Stellen im Verzeichnisbaum eingehängt.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_gnumed_py">gnumed.py</h2>
<div class="sectionbody">
<div class="paragraph"><p>Das zentrale Programm <em>gnumed.py</em>, das durch /usr/bin/gnumed aufgerufen wird, findet sich hier:<br/>
<em>/usr/share/gnumed/Gnumed/gnumed.py</em></p></div>
<div class="paragraph"><p>Im Quelltext ist die Aufgabe benannt: »main - launch the GNUmed wxPython GUI client«.</p></div>
<div class="paragraph"><p>Der Quellcode lässt sich wie üblich gliedern in die logischen Teile<br/>
1) setup,<br/>
2) main/run<br/>
3) shutdown.</p></div>
<div class="paragraph"><p>1) setup:<br/>
Hier folgen Initialisierungen für das Logging und Pfade sowie die Prüfung auf bestimmte Hilfsprogramme etc.<br/>
Bei einer Standardanmeldung, z.B. als any-doc, wird ausgeführt:<br/>
 … exit_code = run_gui()<br/>
Der Terminus <em>exit_code</em> scheint etwas missverständlich. Damit ist gemeint, die grafische Oberfläche wird gestartet/ausgeführt. Zur Zeit besteht hier nur eine einzige Option, nämlich wxPython (= wxp).<br/>
Wie schon beim vorherigen Skript können vor und nach der Ausführung der grafischen Oberfläche individuelle Skripts/Hooks eingebunden werden.</p></div>
<div class="paragraph"><p>Ein Blick in den Quellcode verdeutlicht das Gesagte.</p></div>
<div class="listingblock">
<div class="title">Funktion <em>run_gui</em> innerhalb <em>gnumed.py</em> (/usr/share/gnumed/Gnumed/gnumed.py)</div>
<div class="content">
<pre><code>def run_gui():
        gmHooks.run_hook_script(hook = &#39;startup-before-GUI&#39;)

        if ui_type == &#39;wxp&#39;:
                from Gnumed.wxpython import gmGuiMain
                profile_file = _cfg.get(option = &#39;--profile&#39;, source_order = [(&#39;cli&#39;, &#39;return&#39;)])
                if profile_file is not None:
                        _log.info(&#39;writing profiling data into %s&#39;, profile_file)
                        import profile
                        profile.run(&#39;gmGuiMain.main()&#39;, profile_file)
                else:
                        gmGuiMain.main()
        #elif ui_type == u&#39;web&#39;:
        #       from Gnumed.proxiedpyjamas import gmWebGuiServer
        #       gmWebGuiServer.main()
        #elif ui_type == u&#39;chweb&#39;:
        #       from Gnumed.CherryPy import gmGuiWeb
        #       gmGuiWeb.main()

        gmHooks.run_hook_script(hook = &#39;shutdown-post-GUI&#39;)

        return 0</code></pre>
</div></div>
<div class="paragraph"><p>Zur Zeit sind wie gesagt keine Hooks gesetzt, weder <em>startup-before-GUI</em> noch <em>shutdown-post-GUI</em>.<br/>
Zum Zweiten sieht man, dass <em>ui_type</em> immer gleich <em>wxp</em> ist → als Nächstes wird <em>gmGuiMain</em> importiert und entweder mit oder ohne <em>profile_file</em> gestartet.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_warnungen_und_fehler_im_log">Warnungen und Fehler im Log</h2>
<div class="sectionbody">
<div class="paragraph"><p>An dieser Stelle unterbrechen wir für einen Moment die weitere Ausführung und betrachten das informative Log, welches GNUmed standardmäßig schreibt. Dieses finden wir (siehe die Meldung <em>Log File</em> beim Start oben) unter<br/>
<em>/home/&lt;user/.gnumed/gnumed/logs/gnumed/gnumed/gnumed-&lt;datum_zeit&gt;</em><br/>
Es handelt sich also um einen (unter Linux) <em>versteckten</em> Ordner, der explizit geöffnet werden muss.</p></div>
<div class="paragraph"><p>In unserer Umgebung zeigten sich mehrere Warnungen/Fehler, die allesamt aber nicht zu einem Abbruch des Programms führten, sondern <em>ignoriert</em> werden. Die nicht ladbaren Komponenten werden schlicht und einfach übersprungen und sind in der Folge eben nicht nutzbar. Der folgenden Auszug aus dem Log zeigt die interessanten Punkte.</p></div>
<div class="sect2">
<h3 id="_getrefcount_getsizeof_lt_cannot_log_gt">getrefcount / getsizeof: &lt;cannot log&gt;</h3>
<div class="paragraph"><p>Als erstes begegnen uns zwei Warnungen bei der Abfrage bestimmter Infos aus Pythons built-in Modul <em>sys</em></p></div>
<div class="listingblock">
<div class="content">
<pre><code>2023-11-14 15:35:29  INFO      gm.launcher   [139817169768512 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #380):              getrecursionlimit: 1000
2023-11-14 15:35:29  ERROR     gm.launcher   [139817169768512 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #382):                    getrefcount: &lt;cannot log&gt;
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/gnumed.py&#34;, line 380, in log_startup_info
    _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
                                             ^^^^^^
TypeError: sys.getrefcount() takes exactly one argument (0 given)
2023-11-14 15:35:29  ERROR     gm.launcher   [139817169768512 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #382):                      getsizeof: &lt;cannot log&gt;
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/gnumed.py&#34;, line 380, in log_startup_info
    _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
                                             ^^^^^^
TypeError: getsizeof() missing required argument &#39;object&#39; (pos 1)
2023-11-14 15:35:29  INFO      gm.launcher   [139817169768512 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #380):              getswitchinterval: 0.005</code></pre>
</div></div>
<div class="paragraph"><p>Diese Meldungen tauchen bei bestimmten Python-Version auf - ab Python3.11. Frühere Versionen laufen durch.<br/>
FIX: Um die Kompatibiltät zu erhalten, wird an den kritischen Stellen im Code eine Ausnahme geprüft und abgefangen. Das ist möglich, da die inkriminierten Infos aus <em>sys</em> (im Regelfall) nicht von Belang sind.</p></div>
<br/>    Hier gilt, wie überhaupt bei jeder Edierung der
<img align="left" width="55" height="55" src="/warning.png"/><br/>   Python-Quellcode-Dateien: <br/>
   Als erster Schritt sollen/müssen alle Tabs in vier Leerschritte umgewandelt werden. <br/>
<br/>
<img align="left" width="3" height="3" src="/leeres_png.png"/>
<br/>
<div class="listingblock">
<div class="title">Python-Quellcode: Tabs zu Leerschritten</div>
<div class="content">
<pre><code>expand -t4 -i ./gnumed.alt &gt; gnumed.py</code></pre>
</div></div>
<div class="paragraph"><p>Ein Schnipsel aus der angepassten Datei zeigt das Ergebnis.</p></div>
<div class="listingblock">
<div class="title">Korrigierte <em>gnumed.py</em> (Ausschnitt)</div>
<div class="content">
<pre><code>...
#### Begin FIX
##        if callable(attr):
##            try:
##                _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
##            except Exception:
##                _log.exception(&#39;%s: &lt;cannot log&gt;&#39;, attr_name.rjust(30))
##            continue
#### End FIX
         if callable(attr):
            try:
                _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
            except TypeError:
                try:
                    _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr(object))
                except Exception:
                    _log.exception(&#39;%s: &lt;cannot log&gt;&#39;, attr_name.rjust(30))
                continue
            except Exception:
                _log.exception(&#39;%s: &lt;cannot log&gt;&#39;, attr_name.rjust(30))
            continue
...</code></pre>
</div></div>
<br/>
<img align="left" width="30" height="15" src="/leeres_png.png"/>
<br/>
</div>
<div class="sect2">
<h3 id="_system_alias_uname_result_lt_cannot_log_gt_sc_equiv_class_max">system_alias / uname_result &lt;cannot log&gt; / SC_EQUIV_CLASS_MAX</h3>
<div class="paragraph"><p>Ganz analog lassen sich die drei nächsten Warnungen/Fehler beschreiben und berichtigen:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;....&gt;
2023-11-14 16:53:29  ERROR     gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #412):                   system_alias: &lt;cannot log&gt;
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/gnumed.py&#34;, line 410, in log_startup_info
    _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
                                             ^^^^^^
TypeError: system_alias() missing 3 required positional arguments: &#39;system&#39;, &#39;release&#39;, and &#39;version&#39;
2023-11-14 16:53:29  INFO      gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #410):                          uname: uname_result(system=&#39;Linux&#39;, node=&#39;hpc&#39;, release=&#39;6.1.0-13-amd64&#39;, version=&#39;#1 SMP PREEMPT_DYNAMIC Debian 6.1.55-1 (2023-09-29)&#39;, machine=&#39;x86_64&#39;)
2023-11-14 16:53:29  ERROR     gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #412):                   uname_result: &lt;cannot log&gt;
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/gnumed.py&#34;, line 410, in log_startup_info
    _log.info(&#39;%s: %s&#39;, attr_name.rjust(30), attr())
                                             ^^^^^^
TypeError: uname_result_base.__new__() missing 5 required positional arguments: &#39;system&#39;, &#39;node&#39;, &#39;release&#39;, &#39;version&#39;, and &#39;machine&#39;
2023-11-14 16:53:29  INFO      gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #410):                        version: #1 SMP PREEMPT_DYNAMIC Debian 6.1.55-1 (2023-09-29)

&lt;....&gt;
2023-11-14 16:53:29  INFO      gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #421):               sysconf[SC_DELAYTIMER_MAX]: 2147483647
2023-11-14 16:53:29  ERROR     gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #423):    sysconf[SC_EQUIV_CLASS_MAX]: &lt;invalid&gt; ??
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/gnumed.py&#34;, line 421, in log_startup_info
    _log.info(&#39;%s: %s&#39;, (&#39;sysconf[%s]&#39; % n).rjust(40), os.sysconf(n))
                                                       ^^^^^^^^^^^^^
OSError: [Errno 22] Invalid argument
2023-11-14 16:53:29  INFO      gm.launcher   [140027945967680 MainThread]  (/usr/share/gnumed/Gnumed/gnumed.py::log_startup_info() #421):                sysconf[SC_EXPR_NEST_MAX]: 32
&lt;....&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Diese Meldungen werden ebenso durch entsprechende Ausnahmeklauseln abgfangen, die in den Code zu <em>gnumed.py</em> eingefügt werden.<br/>
Die vollständige, <em>gefixte</em>, Datei gnumed.py findet sich im Simpelmed-Repo<br/>
<a href="https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client?ref_type=heads">https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client?ref_type=heads</a></p></div>
</div>
<div class="sect2">
<h3 id="_wxgridselectrows">wxGridSelectRows</h3>
<div class="paragraph"><p>Der nächste Error betrifft die wxpython-Datei <em>gmMedicationWidgets.py</em>, zu finden im Verzeichnis <em>/usr/share/gnumed/Gnumed/wxpython/</em></p></div>
<div class="listingblock">
<div class="title">Fehlermeldung »attribute <em>wxGridSelectRows</em>«</div>
<div class="content">
<pre><code>&lt;....&gt;

2023-11-14 19:18:16  ERROR     gm.ui         [140644204879936 MainThread]  (/usr/share/gnumed/Gnumed/wxpython/gmHorstSpace.py::__load_plugins() #293): failed to load plugin gmCurrentSubstancesPlugin
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmHorstSpace.py&#34;, line 286, in __load_plugins
    plugin.register()
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmAccessPermissionWidgets.py&#34;, line 60, in _func_decorated_with_required_role_checking
    return original_function(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gui/gmCurrentSubstancesPlugin.py&#34;, line 34, in register
    gmPlugin.cNotebookPlugin.register(self)
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py&#34;, line 92, in register
    widget = self.GetWidget(nb)
             ^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gui/gmCurrentSubstancesPlugin.py&#34;, line 40, in GetWidget
    self._widget = gmMedicationWidgets.cCurrentSubstancesPnl(parent, -1)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmMedicationWidgets.py&#34;, line 1977, in __init__
    wxgCurrentSubstancesPnl.wxgCurrentSubstancesPnl.__init__(self, *args, **kwargs)
  File &#34;/usr/share/gnumed/Gnumed/wxGladeWidgets/wxgCurrentSubstancesPnl.py&#34;, line 27, in __init__
    self._grid_substances = cCurrentSubstancesGrid(self, wx.ID_ANY, size=(1, 1))
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmMedicationWidgets.py&#34;, line 1346, in __init__
    self.__init_ui()
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmMedicationWidgets.py&#34;, line 1828, in __init_ui
    self.SetSelectionMode(wx.grid.Grid.wxGridSelectRows)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object &#39;Grid&#39; has no attribute &#39;wxGridSelectRows&#39;

&lt;....&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Hier scheint es einen Wechsel in der wxPython-API zu geben. In einer Version heißt es <em>wxGridSelectRows</em>, in einer anderen <em>GridSelectRows</em> ohne wx zu Beginn.<br/>
Die <em>gefixte Version</em> der Datei steht ebenso im Repo<br/>
<a href="https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client/wxpython?ref_type=heads">https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client/wxpython?ref_type=heads</a></p></div>
</div>
<div class="sect2">
<h3 id="_modul_humblewx_fehlt">Modul humblewx fehlt</h3>
<div class="paragraph"><p>Den nächsten Error verursacht das Modul <em>humblewx</em>, das in bestimmte Python/wxPython-Umgebungen nicht gefunden wird. Die Log-Meldung dazu:</p></div>
<div class="listingblock">
<div class="title">ModuleNotFoundError: No module named <em>humblewx</em></div>
<div class="content">
<pre><code>2023-11-14 19:18:16  ERROR     gm.ui         [140644204879936 MainThread]  (/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py::__gm_import() #265): Cannot __import__() module [Gnumed.wxpython.gui.gmEMRTimelinePlugin].
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py&#34;, line 263, in __gm_import
    mod = __import__(module_name)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gui/gmEMRTimelinePlugin.py&#34;, line 14, in &lt;module&gt;
    from Gnumed.wxpython import gmPlugin, gmEMRTimelineWidgets
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmEMRTimelineWidgets.py&#34;, line 38, in &lt;module&gt;
    from Gnumed.timelinelib.canvas.data import TimePeriod
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/canvas/__init__.py&#34;, line 23, in &lt;module&gt;
    from timelinelib.canvas.events import EVT_DIVIDER_POSITION_CHANGED
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/canvas/__init__.py&#34;, line 25, in &lt;module&gt;
    from timelinelib.canvas.timelinecanvas import TimelineCanvas
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/canvas/timelinecanvas.py&#34;, line 22, in &lt;module&gt;
    from timelinelib.canvas.timelinecanvascontroller import TimelineCanvasController
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/canvas/timelinecanvascontroller.py&#34;, line 21, in &lt;module&gt;
    from timelinelib.canvas.appearance import Appearance
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/canvas/appearance.py&#34;, line 22, in &lt;module&gt;
    from timelinelib.wxgui.components.font import Font
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/wxgui/components/__init__.py&#34;, line 19, in &lt;module&gt;
    from .categorychoice import CategoryChoice
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/wxgui/components/categorychoice.py&#34;, line 23, in &lt;module&gt;
    from timelinelib.wxgui.dialogs.editcategory.view import EditCategoryDialog
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/wxgui/dialogs/editcategory/view.py&#34;, line 19, in &lt;module&gt;
    from timelinelib.wxgui.dialogs.editcategory.controller import EditCategoryDialogController
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/wxgui/dialogs/editcategory/controller.py&#34;, line 19, in &lt;module&gt;
    from timelinelib.wxgui.framework import Controller
  File &#34;/usr/share/gnumed/Gnumed/timelinelib/wxgui/framework.py&#34;, line 19, in &lt;module&gt;
    from humblewx import Controller
ModuleNotFoundError: No module named &#39;humblewx&#39;</code></pre>
</div></div>
<div class="paragraph"><p>Wie gesagt, trifft dieser Fehler nur in den neueren Python-Version ab 11 und höher auf. Zugrunde liegt möglicherweise ein modifiziertes Import- bzw. Modulkonzept (Suchphrase für weitere Recherchen: <em>error: externally-managed-environment This environment is externally managed …</em>; hierauf gehen wir nicht weiter ein, da erhebliche Eingriffe ins System notwendig wären, dieses Verhalten zu ändern). Der Fix besteht darin, das Modul <em>humblewx.py</em> händisch in das »Wurzelverzeichnis« zu kopieren.<br/>
Kopieren Sie dazu die Datei humblewx.py (im Repo: <a href="https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client?ref_type=heads">https://gitlab.com/bgehrke/simpelmed/-/tree/main/gnumed/gnumed/client?ref_type=heads</a>) auf Ihren Rechner und kopieren diese dann in das Heimatverzeichnis des Clients zu kopieren, da dieser hier zuerst nach Modulen zum Import sucht. An dieser Stelle im Verzeichnisbaum liegt im Übrigen auch die Datei <em>gnumed.py</em>.</p></div>
<div class="listingblock">
<div class="title">Kopieren der Datei humblewx.py (root/sudo!)</div>
<div class="content">
<pre><code>sudo cp ./humblewx.py /usr/share/gnumed/Gnumed/humblewx.py</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_konsolekalendar">konsolekalendar</h3>
<div class="paragraph"><p>Relativ einfach ist die nächste Meldung zu unterdrücken bzw. abzuhaken. Das Programm meldet, <em>konsolekalendar</em> nicht finden zu können.</p></div>
<div class="listingblock">
<div class="title">cannot detect &#34;konsolekalendar&#34;</div>
<div class="content">
<pre><code>&lt;...&gt;
2023-11-14 19:18:16  ERROR     gm.ui         [140644204879936 MainThread]  (/usr/share/gnumed/Gnumed/wxpython/gmHorstSpace.py::__load_plugins() #293): failed to load plugin gmEMRTimelinePlugin
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmHorstSpace.py&#34;, line 284, in __load_plugins
    plugin = gmPlugin.instantiate_plugin(&#39;gui&#39;, curr_plugin)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py&#34;, line 300, in instantiate_plugin
    plugin_class = module_from_package.__dict__[plugin_name]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: &#39;NoneType&#39; object has no attribute &#39;__dict__&#39;
2023-11-14 19:18:16  ERROR     gm.ui         [140644204879936 MainThread]  (/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py::instantiate_plugin() #310): Cannot open module &#34;gui.gmKOrganizerPlugin&#34;.
Traceback (most recent call last):
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gmPlugin.py&#34;, line 308, in instantiate_plugin
    plugin = plugin_class()
             ^^^^^^^^^^^^^^
  File &#34;/usr/share/gnumed/Gnumed/wxpython/gui/gmKOrganizerPlugin.py&#34;, line 35, in __init__
    raise gmExceptions.ConstructorError(&#39;cannot detect &#34;konsolekalendar&#34; via [%s]&#39; % cmd)
Gnumed.pycommon.gmExceptions.ConstructorError: cannot detect &#34;konsolekalendar&#34; via [None]
2023-11-14 19:18:16  ERROR     gm.ui         [140644204879936 MainThread]  (/usr/share/gnumed/Gnumed/wxpython/gmHorstSpace.py::__load_plugins() #289): plugin [gmKOrganizerPlugin] not loaded, see errors above
&lt;...&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Das liegt ganz banal daran, dass dieses Programm nicht installiert ist. Abhilfe schafft ein einfaches <em>sudo apt install konsolekalendar</em>.</p></div>
<br/>    Da das Modul nicht zwingend erforderlich ist, kann auf die
<img align="left" width="55" height="55" src="/tip.png"/><br/>   Installation auch verzichtet werden.<br/>
   Der Grund für diesen Ratschlag: Damit vermeidet man die notwendige Installation des Paketes »Akonadi«, einer notorischen »Datenkrake«. Insbesondere im Gesundheitsumfeld kann der Einsatz dieser Software als bedenklich bewertet werden. Diese beiden Quellen enthalten weitere Infos: <a href="https://curius.de/2022/05/kubuntu-22-04-akonadi-mit-postgresql/">hier</a> oder auch <a href="https://www.linuxquestions.org/questions/slackware-14/is-akonadi-spyware-4175669485/">da</a>.<br/>
<br/>
<img align="left" width="30" height="30" src="/leeres_png.png"/>
<br/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datenbankeinstellungen">Datenbankeinstellungen</h2>
<div class="sectionbody">
<div class="paragraph"><p>Bei den meisten Neuinstallationen begrüßt Sie das Programm mit folgender oder einer ähnlichen Meldung:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Die Datenbankeinstellungen sind riskant gewählt:

 Option [log_connections]: off
  Risiko: non-compliance with HIPAA
 Option [log_disconnections]: off
  Risiko: non-compliance with HIPAA
 Option [track_commit_timestamp]: off
  Risiko: suboptimal auditing

Eventuell müssen Sie Ihren Systembetreuer zu Rate ziehen.

Die Logdatei enthält genauere Angaben !</code></pre>
</div></div>
<div class="paragraph"><p>Die entsprechenden Log-Einträge sehen so aus:</p></div>
<div class="listingblock">
<div class="title">»database settings warning«</div>
<div class="content">
<pre><code>2023-11-15 17:45:35  WARNING   gm.db         [140030872350720 MainThread]  (/usr/share/gnumed/Gnumed/pycommon/gmPG2.py::sanity_check_database_settings() #2087): PG option [log_connections] set to [off], expected [&#39;on&#39;], risk: &lt;non-compliance with HIPAA&gt;
2023-11-15 17:45:35  WARNING   gm.db         [140030872350720 MainThread]  (/usr/share/gnumed/Gnumed/pycommon/gmPG2.py::sanity_check_database_settings() #2087): PG option [log_disconnections] set to [off], expected [&#39;on&#39;], risk: &lt;non-compliance with HIPAA&gt;
2023-11-15 17:45:35  WARNING   gm.db         [140030872350720 MainThread]  (/usr/share/gnumed/Gnumed/pycommon/gmPG2.py::sanity_check_database_settings() #2087): PG option [track_commit_timestamp] set to [off], expected [&#39;on&#39;], risk: &lt;suboptimal auditing&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Das stellt keinen Grund zur Aufregung dar und beeinflusst die Ausführung in keinster Weise. Es geht hier um bestimmte Aufzeichnungen innerhalb der Datenbank, die für eine forensische Analyse der Nutzereingaben und Sitzungszeiten notwendig sind. Insbesondere US-Behörden interessieren sich (im Falle des Falles, wenn etwas wirklich schiefgeht mit Personenschaden) für diese Informationen. Dennoch ist es sicherlich eine gute Idee, diese Meldungen zu umgehen, zumal damit keine Einbuße an Komfort oder Geschwindigkeit einhergeht.<br/>
Der Datenbankadministrator muss dazu die PostgreSQL-Konfiguration anpassen - danach ist PostgreSQL neu zu starten.</p></div>
<div class="listingblock">
<div class="title"><em>Riskante</em> Datenbankeinstellungen /etc/postgresql/15/main/postgresql.conf</div>
<div class="content">
<pre><code>&lt;...&gt;
#------------------------------------------------------------------------------
# REPLICATION
#------------------------------------------------------------------------------

track_commit_timestamp = on     # collect timestamp of transaction commit
                                            # (change requires restart)
&lt;...&gt;
#------------------------------------------------------------------------------
# REPORTING AND LOGGING
#------------------------------------------------------------------------------
&lt;...&gt;

# - What to Log -
&lt;...&gt;

log_connections = on
log_disconnections = on</code></pre>
</div></div>
<div class="paragraph"><p>Dargestellt sind hier nur die notwendigen Änderungen, gezeigt ist jeweils die Zeile nach Edierung. Damit erscheinen die genannte Risikowarnung nicht mehr.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_weitere_meldungen_zum_start">Weitere Meldungen zum Start</h2>
<div class="sectionbody">
<div class="paragraph"><p>Zu guter Letzt sollen die folgenden Meldungen - sie sind natürlich kein eigentlicher Fehler - erwähnt werden.</p></div>
<div class="listingblock">
<div class="title">Versionsinfo</div>
<div class="content">
<pre><code>Eine neue Version von GNUmed ist verfügbar.
 Ihre jetzige Version: &#34;1.8.9&#34;

 Neue Version: &#34;1.8.15&#34;
 - ausschließlich Fehlerkorrekturen
 - Datenbank-Fixes können nötig sein

Achtung: Es kann natürlich sein, daß für Ihr System diese Version noch nicht bereitgestellt wurde.
Details are found on &lt;http://www.gnumed.de&gt;.

Versionsinformationen geladen von:
 [https://www.gnumed.de/downloads/gnumed-versions.txt]</code></pre>
</div></div>
<div class="paragraph"><p>Hier besteht kein Handlungsbedarf.</p></div>
<br/>
<img align="left" width="30" height="30" src="/leeres_png.png"/>
<br/>
<div class="paragraph"><p>In statu nascendi begrüßt uns eine geradzu kosmische Praxis:</p></div>
<div class="listingblock">
<div class="title">Raumflottenpraxis</div>
<div class="content">
<pre><code>Zweigstelle &#34;generic praxis branch&#34; der &#34;generic praxis&#34;
...
Uncle Pawel Wants You! --- Sign up for Starfleet Now!
...</code></pre>
</div></div>
<div class="paragraph"><p>Auch hier muss vorerst nichts geändert werden. Die »richtigen« Daten werden später ins System eingepflegt.</p></div>
<div class="paragraph"><p><br/></p></div>
<div class="paragraph"><p></p><hr/><p></p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../arbeitsumgebung">arbeitsumgebung</a>.</p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../postgresql-pgadmin">postgresql-pgadmin</a>.</p></div>
<div class="paragraph"><p>-&gt; Zurück zu <a href="../gnumed-installation">gnumed-installation</a>.</p></div>
<div class="paragraph"><p>-&gt; Weiter zu <a href="../../projekt/simpelmed-start">simpelmed-start</a>.</p></div>
</div>
</div>


        

        

        
      </article>



      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:kontakt@simpelmed.de" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://gitlab.com/bgehrke/simpelmed/" title="GitLab">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&copy;&nbsp;2023, 2024
          
          by Berthold Gehrke & Alexandra Rupp GbR &nbsp;&bull;&nbsp;letzte Änderung am 13. Februar 2024
          
          

        </p>
        
        <p class="credits theme-by text-muted">
          Seiten erstellt mit: <a href="https://gohugo.io">Hugo v0.115.4</a> &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> angepasst von <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> und <a href="https://datenbahn.de/">datenbahn</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://simpelmed.de/js/katex.min.js"></script>
<script defer src="https://simpelmed.de/js/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script src="https://simpelmed.de/js/jquery-3.7.0.slim.min.js"></script>
<script src="https://simpelmed.de/js/bootstrap.min.js"></script>

<script src="https://simpelmed.de/js/main.js"></script><script src="https://simpelmed.de/js/photoswipe.min.js"></script>
<script src="https://simpelmed.de/js/photoswipe-ui-default.min.js"></script><script src="https://simpelmed.de/js/load-photoswipe.js"></script>









    
  </body>
</html>

